### EX #1

1. 추가 버튼이 눌릴 때 상태를 변경시키는 setState가 실행되고 상태는 변경된다. 상태가 변경되는 setState안에 render도 실행된다.
   render가 실행될 때에만 DOM조작을 하는 동작이 실행된다.
   즉, 상태가 변경될 때마다 새로운 DOM 요소로 렌더링된다.

```js
const setState = (newState) => {
  state = { ...state, ...newState };
  render();
};
```

setState()에서 스프레드 연산자를 사용해서 기존의 state 객체 내부의 값 + newState의 값을 더해주는 코드를 여러줄의 코드를 사용하지 않고 가독성 좋게 깔끔하게 작성할 수 있는 것 같다.

### EX #2

```js
class Component {
    $target;
    state;
```

메서드 내부에서만 사용하는게 아니라 상속하는 모든 클래스에서도 사용할 변수들이여서 클래스필드로 선언한다.

```js
class Component {
  setup() {}
  setEvent() {}
}
```

Component 클래스에서 setup(), template(), render(), setEvent(), setState()같은 메서드들은 상속받는 클래스에서 오버라이딩해서 동작하는 기능을 구현할 수 있게 추상적인 기능만 제공한다.

### EX #3

모듈화로 분리

### EX #4

왜 render할 때 마다 이벤트 등록이 되는거지 했는데 render() 메서드 안에 setEvent가 있었다 ㅎㅎ;

### EX #5

이벤트 버블링을 이용해서 컴포넌트 target 자체에 이벤트를 등록하고 render()할 때가 아닌 생성되는 시점에만 동작하게 설정해두면 딱 **'한 번만'** 실행이 되고, 이후에 모든 이벤트들은 조건문을 통해 상황에 맞게 이벤트가 등록되고 실행된다.

### EX #6

```js
addEvent (eventType, selector, callback) {
    const children = [ ...this.$target.querySelectorAll(selector) ];
    this.$target.addEventListener(eventType, event => {
      if (!event.target.closest(selector)) return false;
      callback(event);
    })
  }
```

이벤트 등록 과정을 메서드로 분리해서 재사용하기 좋아졌다.

### EX #7

기능 추가시 간단하게 Item을 생성하고 삭제만 하는 기능을 하던 클래스에서 코드가 너무 복잡하고 많아져서 읽기조차 싫어지는 코드가 되어버렸다.

```js
setEvent() {
    this.addEvent('keyup', '.appender', ({ key, target }) => {
      if (key !== 'Enter') return;
      const {items} = this.state;
      const seq = Math.max(0, ...items.map(v => v.seq)) + 1;
      const contents = target.value;
      const active = false;
      this.setState({
        items: [
          ...items,
          {seq, contents, active}
        ]
      });
    });
```

엔터를 누르고 떼었을 때만 이벤트가 발생해야하므로 return으로 이벤트를 중단시켜버린다

### EX #8

```js
mounted() {
        const { filteredItems, addItem, deleteItem, toggleItem, filterItem } =
            this;
```

이 부분에서 저 변수들에 App 인스턴스 객체를 할당해서 App과 App에게 상속해주는 클래스의 모든 메서드를 사용할 수 있게 해준다고 이해했는데 어렵다.

마지막 단계에서는 한 번에 이해가 어렵고 직접 적용해서 만들어보면서 내 코드로 작성해봐야 좀 더 흐름파악이 수월해질 것 같다.
이렇게 클래스를 사용해서 분리하고 하는 방식이 상태랑 이것저것 다 생각하고 기억해야하는게 너무 불편하고 어렵다. 남의 코드일수록 더 심하게 느껴지는듯. 공부해봐도 장점을 알 수가 없다. 이래서 함수로 바뀐건가?
