# í™©ì¤€ì¼ ì›¹ ì»´í¬ë„ŒíŠ¸

## 1. ìƒíƒœê´€ë¦¬ì˜ íƒ„ìƒ

- `state`ê°€ ë³€í•˜ì§€ ì•Šì„ ê²½ìš° `DOM`ì´ ë³€í•˜ë©´ ì•ˆ ëœë‹¤.
- SSR(Server-Side Rendering)
  - ì„œë²„ì—ì„œ HTMLì„ ë§Œë“¤ì–´ì„œ í´ë¼ì´ì–¸íŠ¸ì— ë„˜ê²¨ì£¼ëŠ” ê²ƒ
- CSR(Client-Side Rendering)
  - ë¸Œë¼ìš°ì €(í´ë¼ì´ì–¸íŠ¸) ë‹¨ì—ì„œ ëª¨ë“  ë Œë”ë§ì„ ì²˜ë¦¬ í•˜ë ¤ëŠ” ì‹œë„
  - ë¸Œë¼ìš°ì €ì—ì„œ ë Œë”ë§ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ë Œë”ë§ì— í•„ìš”í•œ ìƒíƒœë¥¼ ì •êµí•˜ê²Œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
- SSRê³¼ CSRì˜ ì°¨ì´
  |           | ì²« í˜ì´ì§€ ë¡œë”©                               | ë‚˜ë¨¸ì§€ ë¡œë”©                               | ì„œë²„ ìì› ì‚¬ìš©                                        |
  | --------- | -------------------------------------------- | ----------------------------------------- | ----------------------------------------------------- |
  | SSR       | - í•„ìš”í•œ ë¶€ë¶„ì˜ HTMLê³¼ ìŠ¤í¬ë¦½íŠ¸ë§Œ ë¶ˆëŸ¬ì˜´     |
  | - ë” ë¹ ë¦„ | ì²« í˜ì´ì§€ ë¡œë”©í•œ ê³¼ì •ì„ ì •í™•í•˜ê²Œ ë‹¤ì‹œ ì‹¤í–‰í•¨ | ë§¤ë²ˆ ì„œë²„ ìš”ì²­ì„ í•˜ê¸° ë•Œë¬¸ì— ë” ë§ì´ ì‚¬ìš© |
  | CSR       | HTML, CSSë¥¼ í•œ ë²ˆì— ë¶ˆëŸ¬ì˜´                   | ë” ë¹ ë¦„                                   | í´ë¼ì´ì–¸íŠ¸ê°€ ì¼ì„ ë§ì´ í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ì— ë¶€í•˜ê°€ ì ìŒ |

## 2. ì»´í¬ë„ŒíŠ¸

(1) ê¸°ëŠ¥ êµ¬í˜„

(2) ì¶”ìƒí™”

```jsx
<script>
class Component {
  $target;
  state;
  constructor ($target) {
    this.$target = $target;
    this.setup();
    this.render();
  }
  setup () {};
  template () { return ''; }
  render () {
    this.$target.innerHTML = this.template();
    this.setEvent();
  }
  setEvent () {}
  setState (newState) {
    this.state = { ...this.state, ...newState };
    this.render();
  }
}

class App extends Component {
  setup () {
    this.state = { items: ['item1', 'item2'] };
  }
  template () {
    const { items } = this.state;
    return `
        <ul>
          ${items.map(item => `<li>${item}</li>`).join('')}
        </ul>
        <button>ì¶”ê°€</button>
    `
  }

  setEvent () {
    this.$target.querySelector('button').addEventListener('click', () => {
      const { items } = this.state;
      this.setState({ items: [ ...items, `item${items.length + 1}` ] });
    });
  }
}

new App(document.querySelector('#app'));
</script>
```

ğŸ¤”Â `Component` í´ë˜ìŠ¤ì—ì„œ ì„ ì–¸ ëœ ë¹„ì–´ ìˆëŠ” ë©”ì„œë“œì— ëŒ€í•´ ê¶ê¸ˆí–ˆë‹¤.

> Component í´ë˜ìŠ¤ì—ì„œ ë¹ˆ ë©”ì„œë“œë¥¼ ì •ì˜í•´ë†“ê³ , ìƒì†ë°›ì€ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ "í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´(Template Method Pattern)"ì´ë¼ê³  í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´, ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œëŠ” ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ìì‹ í´ë˜ìŠ¤ì—ì„œëŠ” ê°ìì˜ ë…ìì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤.

ğŸ¤”Â í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì´ ë­”ë°?

> í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´(Template Method Pattern)ì€ ê°ì²´ ì§€í–¥ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ë¡œ, ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ êµ¬í˜„í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì¦‰, ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•œ ë©”ì„œë“œ(í…œí”Œë¦¿ ë©”ì„œë“œ)ì™€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì¶”ìƒ ë©”ì„œë“œ(ì¶”ìƒ ë©”ì„œë“œ)ë¥¼ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
>
> í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì˜ ì£¼ìš” íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
>
> 1. ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
> 2. í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
> 3. ìƒìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ì¶”ìƒ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì„ ì •ì˜í•©ë‹ˆë‹¤.
> 4. í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ í…œí”Œë¦¿ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
> 5. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ê°„ì˜ ì˜ì¡´ì„±ì„ ì¤„ì—¬ ìœ ì—°í•œ êµ¬ì¡°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.
>
> ìœ„ì—ì„œ ì˜ˆì‹œë¡œ ë“  Component í´ë˜ìŠ¤ì™€ App í´ë˜ìŠ¤ì˜ êµ¬ì¡°ëŠ” ì´ëŸ¬í•œ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ë”°ë¥´ê³  ìˆìŠµë‹ˆë‹¤. Component í´ë˜ìŠ¤ì—ì„œëŠ” ë¹ˆ setup ë©”ì„œë“œì™€ ì¶”ìƒì ì¸ template, setEvent, setState ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³ , App í´ë˜ìŠ¤ì—ì„œëŠ” êµ¬ì²´ì ì¸ setup ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´, ì•ìœ¼ë¡œ ë§Œë“¤ì–´ì§ˆ ë‹¤ë¥¸ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œë„ Component í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ ë©”ì„œë“œë“¤ì„ í™œìš©í•˜ì—¬ ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// src/components/Items.js

import Component from '../core/Component.js'

export default class Items extends Component {
  setup() {
    this.state = { items: ['item1', 'item2'] }
  }
  template() {
    const { items } = this.state
    return `
      <ul>
        ${items.map(item => `<li>${item}</li>`).join('')}
      </ul>
      <button>ì¶”ê°€</button>
    `
  }

  setEvent() {
    this.$target.querySelector('button').addEventListener('click', () => {
      const { items } = this.state
      this.setState({ items: [...items, `item${items.length + 1}`] })
    })
  }
}
```

ğŸ¤”Â  `${items.map(item => `<li>${item}</li>`).join('')}` ì½”ë“œë¥¼ `reduce`ë¡œ ë°”ê¾¸ëŠ” ê²ƒê³¼ì˜ ì°¨ì´

> `items`ë°°ì—´ì˜ ê° ìš”ì†Œë¥¼ `<li>`íƒœê·¸ë¡œ ê°ì‹¸ëŠ” ê°„ë‹¨í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë¯€ë¡œ, `map()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì§ê´€ì ì´ê³  ì´í•´í•˜ê¸° ì‰½ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì„±ëŠ¥ ì°¨ì´ê°€ í¬ì§€ ì•Šì€ ì´ìƒì ì¸ ê²½ìš°ì—ëŠ” ì½”ë“œ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•˜ì—¬ ê°€ë…ì„±ì´ ë” ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
